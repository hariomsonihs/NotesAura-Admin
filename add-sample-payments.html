<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Sample Payments</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Add Sample Payment Data</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-primary w-100 mb-3" id="addSamplePayments">
                            Add 10 Sample Payments
                        </button>
                        <button class="btn btn-success w-100 mb-3" id="addSampleEnrollments">
                            Add 5 Sample Enrollments
                        </button>
                        <div id="status" class="mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { db } from './js/firebase-config.js';
        import { collection, addDoc, Timestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        document.getElementById('addSamplePayments').addEventListener('click', async () => {
            const status = document.getElementById('status');
            status.innerHTML = '<div class="alert alert-info">Adding sample payments...</div>';
            
            const samplePayments = [
                {
                    paymentId: 'pay_' + Date.now() + '_1',
                    userName: 'Rahul Sharma',
                    userEmail: 'rahul@example.com',
                    courseName: 'Java Programming Complete Course',
                    amount: 999,
                    paymentMethod: 'razorpay',
                    status: 'SUCCESS',
                    createdAt: Timestamp.now()
                },
                {
                    paymentId: 'pay_' + Date.now() + '_2',
                    userName: 'Priya Singh',
                    userEmail: 'priya@example.com',
                    courseName: 'Python for Beginners',
                    amount: 799,
                    paymentMethod: 'upi',
                    status: 'SUCCESS',
                    createdAt: Timestamp.now()
                },
                {
                    paymentId: 'pay_' + Date.now() + '_3',
                    userName: 'Amit Kumar',
                    userEmail: 'amit@example.com',
                    courseName: 'Web Development Bootcamp',
                    amount: 1299,
                    paymentMethod: 'card',
                    status: 'SUCCESS',
                    createdAt: Timestamp.now()
                },
                {
                    paymentId: 'pay_' + Date.now() + '_4',
                    userName: 'Sneha Patel',
                    userEmail: 'sneha@example.com',
                    courseName: 'Android App Development',
                    amount: 1499,
                    paymentMethod: 'netbanking',
                    status: 'SUCCESS',
                    createdAt: Timestamp.now()
                },
                {
                    paymentId: 'pay_' + Date.now() + '_5',
                    userName: 'Vikash Gupta',
                    userEmail: 'vikash@example.com',
                    courseName: 'Data Science with Python',
                    amount: 1999,
                    paymentMethod: 'wallet',
                    status: 'SUCCESS',
                    createdAt: Timestamp.now()
                }
            ];

            try {
                for (const payment of samplePayments) {
                    await addDoc(collection(db, 'payments'), payment);
                }
                status.innerHTML = '<div class="alert alert-success">✅ Sample payments added successfully!</div>';
            } catch (error) {
                status.innerHTML = '<div class="alert alert-danger">❌ Error: ' + error.message + '</div>';
            }
        });

        document.getElementById('addSampleEnrollments').addEventListener('click', async () => {
            const status = document.getElementById('status');
            status.innerHTML = '<div class="alert alert-info">Adding sample enrollments...</div>';
            
            const sampleEnrollments = [
                {
                    courseId: 'java_programming',
                    courseName: 'Java Programming Complete Course',
                    userName: 'Arjun Mehta',
                    userEmail: 'arjun@example.com',
                    amount: 999,
                    paymentStatus: 'COMPLETED',
                    enrollmentDate: Timestamp.now(),
                    progressPercentage: 45
                },
                {
                    courseId: 'python_basics',
                    courseName: 'Python for Beginners',
                    userName: 'Kavya Reddy',
                    userEmail: 'kavya@example.com',
                    amount: 799,
                    paymentStatus: 'COMPLETED',
                    enrollmentDate: Timestamp.now(),
                    progressPercentage: 78
                },
                {
                    courseId: 'web_development',
                    courseName: 'Web Development Bootcamp',
                    userName: 'Rohit Jain',
                    userEmail: 'rohit@example.com',
                    amount: 1299,
                    paymentStatus: 'COMPLETED',
                    enrollmentDate: Timestamp.now(),
                    progressPercentage: 23
                }
            ];

            try {
                for (const enrollment of sampleEnrollments) {
                    await addDoc(collection(db, 'enrollments'), enrollment);
                }
                status.innerHTML = '<div class="alert alert-success">✅ Sample enrollments added successfully!</div>';
            } catch (error) {
                status.innerHTML = '<div class="alert alert-danger">❌ Error: ' + error.message + '</div>';
            }
        });
    </script>
</body>
</html>